# VS阅读器

一个现代化的VS Code插件，提供侧边栏界面让用户在终端中阅读本地文件。

## 功能特点

- 📁 添加本地文件到阅读列表
- 📖 在集成终端中分页阅读文件内容
- 📑 智能章节识别和按章节阅读
- 🖥️ 侧边栏树形视图，直观管理文件和章节
- 🗑️ 管理阅读列表（添加/移除文件）
- 🖱️ 支持右键菜单快速添加文件
- 🎯 点击章节即可在终端中阅读

## 使用方法

### 添加文件到阅读列表

1. **右键菜单方式**：
   - 在资源管理器中右键点击任意文件
   - 选择"VS阅读器: 添加文件到阅读列表"

2. **拖拽方式**：
   - 直接将文件拖拽到侧边栏的"VS阅读器"视图中

### 使用侧边栏阅读

1. **打开侧边栏**：
   - 点击左侧活动栏中的📖图标
   - 或按 `Ctrl+Shift+E` / `Cmd+Shift+E` 打开资源管理器，选择"VS阅读器"

2. **浏览文件**：
   - 侧边栏会显示所有已添加的文件
   - 点击文件名左侧的展开图标查看章节

3. **阅读章节**：
   - 点击任意章节即可在"输出"面板中阅读该章节内容
   - 内容会显示在"VS阅读器"输出通道中，包含行号和分页信息
   - 支持多种分页控制方式：
     - **快捷键翻页**：
       - `Ctrl+Shift+Alt+P` / `Cmd+Shift+Alt+P`：上一页
       - `Ctrl+Shift+Alt+N` / `Cmd+Shift+Alt+N`：下一页
     - **命令面板**：
       - 搜索"VS阅读器: 上一页"
       - 搜索"VS阅读器: 下一页"
       - 搜索"VS阅读器: 跳转到页"（输入具体页码）

4. **管理文件**：
   - 右键点击文件可以选择移除
   - 点击顶部刷新按钮可以刷新列表

### 章节识别

插件会自动识别以下格式的章节标题：
- 第X章、第X节、第X篇
- 数字+点/顿号：1. 2、 3.
- Markdown标题：# ## ###
- 英文章节：Chapter 1, Section 1
- 分隔线格式：=== ---

### 章节阅读
- **完整显示**：每个章节内容完整展示，无需分页
- **章节标识**：章节列表清晰显示章节标题和编号
- **行号显示**：每行内容附带原始文件行号
- **格式优化**：清晰的章节标题和文件信息展示

### 随机代码模式（可配置）
- **开关配置**：在VS Code设置中开启/关闭
- **比例调节**：可设置随机代码占比（10%-80%）
- **运行日志格式**：随机代码以Java/JS运行日志形式呈现，如 `[2024-01-15 14:30:25] INFO DatabaseManager: initialized successfully`
- **间隔控制**：智能间隔算法确保日志不会过于密集，最小间隔3行
- **清晰标识**：运行日志用📊图标标记，正文内容用📄图标标记
- **配置路径**：设置 → 扩展 → VS阅读器 → 随机代码模式

## 开发指南

### 环境要求

- Node.js 16.x 或更高版本
- VS Code 1.74.0 或更高版本

### 构建和运行

```bash
# 安装依赖
npm install

# 编译项目
npm run compile

# 在调试模式下运行
按 F5 打开新的扩展开发主机窗口
```

### 打包发布

```bash
# 安装 vsce
npm install -g vsce

# 打包扩展
vsce package
```

## 文件结构

```
vs-yuedu/
├── src/
│   ├── extension.ts          # 插件主入口文件
│   └── treeDataProvider.ts   # 树形数据提供器
├── package.json              # 插件配置文件
├── tsconfig.json            # TypeScript配置
├── .gitignore               # Git忽略文件
└── README.md                # 项目说明文档
```

## 许可证

MIT License